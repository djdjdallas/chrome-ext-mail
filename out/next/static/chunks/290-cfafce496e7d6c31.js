"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[290],{6370:function(e,t,n){n.d(t,{z:function(){return c}});var r=n(1844),l=n(5784),a=n(1465),i=n(5139),o=n(3954);let s=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:n,variant:l,size:i,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(s({variant:l,size:i,className:n})),ref:t,...d})});c.displayName="Button"},3954:function(e,t,n){n.d(t,{cn:function(){return a}});var r=n(512),l=n(8388);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.m6)((0,r.W)(t))}},5290:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(1844),l=n(5784),a=n(1163),i=n(7542),o=n(6370),s=n(5008),c=n(1664),d=n.n(c),u=n(1373);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,u.Z)("BicepsFlexed",[["path",{d:"M12.409 13.017A5 5 0 0 1 22 15c0 3.866-4 7-9 7-4.077 0-8.153-.82-10.371-2.462-.426-.316-.631-.832-.62-1.362C2.118 12.723 2.627 2 10 2a3 3 0 0 1 3 3 2 2 0 0 1-2 2c-1.105 0-1.64-.444-2-1",key:"1pmlyh"}],["path",{d:"M15 14a5 5 0 0 0-7.584 2",key:"5rb254"}],["path",{d:"M9.964 6.825C8.019 7.977 9.5 13 8 15",key:"kbvsx9"}]]),p=(0,u.Z)("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]),m=(0,u.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),h=(0,u.Z)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),v=(0,u.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function y(e){let{navigateToPage:t}=e,[n,c]=(0,l.useState)("all"),[u,y]=(0,l.useState)([]),[x,g]=(0,l.useState)(null),b=(0,a.useRouter)(),j=(0,i.createClientComponentClient)(),{setSelectedTemplate:k}=(0,s.y)();(0,l.useEffect)(()=>{let e=async()=>{let{data:{session:e},error:t}=await j.auth.getSession();(null==e?void 0:e.user)?g(e.user):(t||!e)&&(console.error("Error fetching user or no session:",null==t?void 0:t.message),b.push("/"))};e();let{data:t}=j.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e?g(t.user):"SIGNED_OUT"===e&&(g(null),b.push("/"))});return()=>{t.subscription.unsubscribe()}},[j,b]);let N=async()=>{let{data:e,error:t}=await j.from("email_templates").select("id, title, description, subject, body, tone, image_url").order("tone",{ascending:!0});if(t)console.error("Error fetching email templates:",t);else{let t=e.sort((e,t)=>"Popular"===e.tone?-1:"Popular"===t.tone?1:0);y(t)}};(0,l.useEffect)(()=>{x&&N()},[x]);let C="all"===n?u:u.filter(e=>e.tone.toLowerCase()===n.toLowerCase());return x?(0,r.jsxs)("div",{className:"container mt-20",children:[(0,r.jsxs)("div",{className:"filter-container",children:[(0,r.jsx)("h2",{children:"Filter by Tone"}),(0,r.jsxs)("div",{className:"filter-buttons",children:[(0,r.jsx)(o.z,{variant:"all"===n?"solid":"outline",onClick:()=>c("all"),className:"template-button",children:"All"}),(0,r.jsx)(o.z,{variant:"professional"===n?"solid":"outline",onClick:()=>c("professional"),className:"template-button",children:"Professional"}),(0,r.jsx)(o.z,{variant:"confident"===n?"solid":"outline",onClick:()=>c("confident"),className:"template-button",children:"Confident"}),(0,r.jsx)(o.z,{variant:"friendly"===n?"solid":"outline",onClick:()=>c("friendly"),className:"template-button",children:"Friendly"}),(0,r.jsx)(o.z,{variant:"formal"===n?"solid":"outline",onClick:()=>c("formal"),className:"template-button",children:"Formal"}),(0,r.jsx)(o.z,{variant:"popular"===n?"solid":"outline",onClick:()=>c("popular"),className:"template-button",children:"Popular"})]})]}),(0,r.jsx)("div",{className:"template-grid",children:C.map(e=>(0,r.jsxs)("div",{className:"template-card group relative overflow-hidden rounded-lg shadow-lg transition-all duration-300 ease-in-out hover:-translate-y-2 hover:shadow-xl",children:[(0,r.jsxs)("div",{className:"template-icon",children:["Confident"===e.tone&&(0,r.jsx)(f,{size:48}),"Professional"===e.tone&&(0,r.jsx)(p,{size:48}),"Friendly"===e.tone&&(0,r.jsx)(m,{size:48}),"Formal"===e.tone&&(0,r.jsx)(h,{size:48}),"Popular"===e.tone&&(0,r.jsx)(v,{size:48})]}),(0,r.jsxs)("div",{className:"template-content",children:[(0,r.jsx)("h3",{className:"template-title text-xl font-bold text-center",children:e.title}),(0,r.jsx)("p",{className:"template-description text-md font-bold text-center text-gray-700",children:e.description}),(0,r.jsxs)("div",{className:"template-footer",children:[(0,r.jsx)("span",{className:"template-tone bg-slate-200",children:e.tone}),(0,r.jsx)(d(),{href:"/customize/".concat(e.id),passHref:!0,children:(0,r.jsx)(o.z,{variant:"outline",size:"sm",onClick:()=>k(e),className:"template-button bg-slate-100",children:"Customize"})})]})]})]},e.id))})]}):null}n(1167)},1465:function(e,t,n){n.d(t,{g7:function(){return a}});var r=n(5784),l=n(1844),a=r.forwardRef((e,t)=>{let{children:n,...a}=e,o=r.Children.toArray(n),c=o.find(s);if(c){let e=c.props.children,n=o.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(i,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,l.jsx)(i,{...a,ref:t,children:n})});a.displayName="Slot";var i=r.forwardRef((e,t)=>{let{children:n,...l}=e;if(r.isValidElement(n)){let e,a;let i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref;return r.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let l=e[r],a=t[r],i=/^on[A-Z]/.test(r);i?l&&a?n[r]=(...e)=>{a(...e),l(...e)}:l&&(n[r]=l):"style"===r?n[r]={...l,...a}:"className"===r&&(n[r]=[l,a].filter(Boolean).join(" "))}return{...e,...n}}(l,n.props),ref:t?function(...e){return t=>e.forEach(e=>{var n;"function"==typeof(n=e)?n(t):null!=n&&(n.current=t)})}(t,i):i})}return r.Children.count(n)>1?r.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function s(e){return r.isValidElement(e)&&e.type===o}},5139:function(e,t,n){n.d(t,{j:function(){return a}});let r=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,l=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(l&&(l+=" "),l+=r);else for(n in t)t[n]&&(l&&(l+=" "),l+=n)}return l}(e))&&(r&&(r+=" "),r+=t);return r},a=(e,t)=>n=>{var a;if((null==t?void 0:t.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(e=>{let t=null==n?void 0:n[e],l=null==o?void 0:o[e];if(null===t)return null;let a=r(t)||r(l);return i[e][a]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),d=null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:n,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...c}[t]):({...o,...c})[t]===n})?[...e,n,r]:e},[]);return l(e,s,d,null==n?void 0:n.class,null==n?void 0:n.className)}}}]);